#include <types.h>
#include <print.h>
#include <string.h> //因为我用了strlen

void outputknew(void *data, const char *buf, size_t len) {
	int i = 0;
	while (((char*)data)[i] != '\0') {
		i++;
	}
	for (int j = 0; j < len; j++){
		((char*)data)[i] = buf[j];
		i++;
	}
	((char *)data)[i] = '\0';
	return;
}

int sprintf(char *buf, const char *fmt, ...) {
	va_list ap;
	va_start(ap, fmt);
	buf[0] = '\0';
	vprintfmt(outputknew, buf, fmt, ap);
	va_end(ap);
	return strlen(buf); //本身strlen函数就不包括\0
}


